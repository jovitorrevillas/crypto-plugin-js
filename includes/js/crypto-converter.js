! function(t) {
    ICConverter = function() {
        function t(t) {
            var e = document.createElement("style");
            e.innerText = '.ic-button-background{background: linear-gradient(to right, #3d208e , #a017d9); clip-path: polygon(0% 0%, 0% 100%, 0% 100%, 85% 75%, 100% 0%, 50% 0%);} a.ic-button-background{color: white; text-decoration: none;}#WIDGET .ic-dropdown{position:relative}#WIDGET .ic-dropdown .ic-dropdown__button{display:block;text-decoration:none;color:#4794ee;font-size:12px;font-weight:600;line-height:16px;text-align:center;position:relative;padding:20px 5px;text-transform:uppercase;-webkit-transition:all 350ms;transition:all 350ms}#WIDGET .ic-dropdown .ic-dropdown__button::before{content:\'\';width:16px;height:16px;display:block;position:absolute;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0OSAoNTEwMDIpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPjUyMjcwMjJFLTk5RDktNEExNy1BMDBDLUM2REI4NEU2RTI4MDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iU3ltYm9scyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkRyb3Bkb3duLWFycm93cy9jdXJyZW5jeS1XIj4KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTEyIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xMyI+CiAgICAgICAgICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iIzI1MzEzNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBwb2ludHM9IjQgNyA3LjkzNzExMzIzIDExIDEyLjAxMDg3MTQgNyI+PC9wb2x5bGluZT4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==);top:50%;margin-top:-8px;right:10px;-webkit-transition:all 350ms;transition:all 350ms}#WIDGET .ic-dropdown .ic-dropdown__button:hover{color:#5287cb}#WIDGET .ic-dropdown .ic-dropdown__button:hover::before{margin-top:-7px;opacity:.7}#WIDGET .ic-dropdown .ic-dropdown__list{list-style:none;padding:0;margin:25px 0 0;position:absolute;left:-1px;top:100%;min-width:100%;visibility:hidden;opacity:0;background:#fff;border:1px solid #afbdc4;z-index:100;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.2);box-shadow:0 2px 4px 0 rgba(0,0,0,.2);border-radius:2px;-webkit-transition:all 350ms;transition:all 350ms}#WIDGET .ic-dropdown .ic-dropdown__list-item{text-align:center;text-transform:uppercase;display:block;text-decoration:none;color:#4794ee;font-size:12px;font-weight:600;padding:6px 8px;cursor:pointer;margin-left: 0 !important;}#WIDGET .ic-dropdown .ic-dropdown__list-item:hover{color:#000;background:#e6e6e6}#WIDGET .ic-dropdown.ic-dropdown_open .ic-dropdown__button::before{-webkit-transform:rotate(180deg);transform:rotate(180deg)}#WIDGET .ic-dropdown.ic-dropdown_open .ic-dropdown__list{visibility:visible;opacity:1;margin-top:0}#WIDGET .ibx-calc{padding:20px;text-align:center;font-family:"Roboto",Verdana,"Helvetica Neue",Tahoma,Arial,sans-serif;border-radius:2px;}#WIDGET .ibx-calc .ibx-calc__title{color:#010101;font-size:18px;font-weight:600;line-height:24px}#WIDGET .ibx-calc .ibx-calc__form{margin:0 auto 0;}#WIDGET .ibx-calc .ibx-calc__group-fields:focus-within{border: 0px solid #afbdc4;}#WIDGET .ibx-calc .ibx-calc__group-fields{max-width:370px;border-radius:1px;background-color:#fff;margin: 15px 15px 15px;font-size:0;padding-right:96px;-webkit-box-shadow: 0px 11px 29px -11px rgba(0,0,0,0.3);-moz-box-shadow: 0px 11px 29px -11px rgba(0,0,0,0.3);box-shadow: 0px 11px 29px -11px rgba(0,0,0,0.3);}#WIDGET .ibx-calc .ibx-calc__control-text{color:#4794ee;font-size:16px;width:100%;display:block;vertical-align:top;line-height:14px;padding:20px 8px;border:0;background:#fff;outline:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Roboto",Verdana,"Helvetica Neue",Tahoma,Arial,sans-serif}#WIDGET .ibx-calc .ibx-calc__control-text::-moz-placeholder{color:#afbdc4;opacity:1}#WIDGET .ibx-calc .ibx-calc__control-text:-ms-input-placeholder{color:#afbdc4}#WIDGET .ibx-calc .ibx-calc__control-text::-webkit-input-placeholder{color:#afbdc4}#WIDGET .ibx-calc .ibx-calc__dropdown{width:95px;height:32px;background-color:#fff;display:block;float:right;margin-right:-96px;vertical-align:top}#WIDGET .ibx-calc .ibx-calc__button{margin-top:15px;}#WIDGET .ibx-calc #WIDGET .ibx-calc .ibx-calc__button:hover{-webkit-box-shadow:0 3px 6px 0 rgba(0,0,0,.31);box-shadow:0 3px 6px 0 rgba(0,0,0,.31);background-color:#313f47}#WIDGET .ibx-calc .ibx-calc__button:active{-webkit-box-shadow:0 1px 6px 0 rgba(0,0,0,.31);box-shadow:0 1px 6px 0 rgba(0,0,0,.31);background-color:#4c626e}'.replace(/(#WIDGET)+/g, "#" + t + " "), document.getElementsByTagName("body")[0].appendChild(e)
        }! function(t, e) {
            "use strict";
            "function" == typeof define && define.amd ? define("ajax", e) : "object" == typeof exports ? exports = module.exports = e() : t.ajax = e()
        }(this, function() {
            "use strict";

            function t(t) {
                return t || null
            }

            function e(t, e, n, r) {
                var s = ["then", "catch", "always"].reduce(function(t, e) {
                        return t[e] = function(o) {
                            return t[e] = o, t
                        }, t
                    }, {}),
                    N = new XMLHttpRequest,
                    D = o(e, n, t);
                return N.open(t, D, !0), N.withCredentials = r.hasOwnProperty("withCredentials"),
                i(N, r.headers), N.addEventListener("readystatechange", M(s, N), !1), N.send(c(n)),
                s.abort = function() {
                    return N.abort()
                }, s
            }

            function o(t, e, o) {
                if ("get" !== o.toLowerCase() || !e) return t;
                var i = c(e);
                return t + (t.indexOf("?") > -1 ? "&" : "?") + i
            }

            function i(t, e) {
                n(e = e || {}) || (e["Content-Type"] = "application/x-www-form-urlencoded"), Object.keys(e).forEach(function(o) {
                    e[o] && t.setRequestHeader(o, e[o])
                })
            }

            function n(t) {
                return Object.keys(t).some(function(t) {
                    return "content-type" === t.toLowerCase()
                })
            }

            function M(t, e) {
                return function o() {
                    e.readyState === e.DONE && (e.removeEventListener("readystatechange", o, !1), t.always.apply(t, r(e)), e.status >= 200 && e.status < 300 ? t.then.apply(t, r(e)) : t.catch.apply(t, r(e)))
                }
            }

            function r(t) {
                var e;
                try {
                    e = JSON.parse(t.responseText)
                } catch (o) {
                    e = t.responseText
                }
                return [e, t]
            }

            function c(t) {
                return s(t) ? N(t) : t
            }

            function s(t) {
                return "[object Object]" === Object.prototype.toString.call(t)
            }

            function N(t) {
                return Object.keys(t).reduce(function(e, o) {
                    return (e ? e + "&" : "") + D(o) + "=" + D(t[o])
                }, "")
            }

            function D(t) {
                return encodeURIComponent(t)
            }
            return function(o) {
                var i = ["get", "post", "put", "delete"];
                return o = o || {},
                o.baseUrl = o.baseUrl || "",
                o.method && o.url ? e(o.method,
                o.baseUrl + o.url, 
                t(o.data), o) : i.reduce(function(i, n) {
                    return i[n] = function(i, M) {
                        return e(n, o.baseUrl + i, t(M), o)
                    }, i
                }, {})
            }
        });
        var e = {};
        e.extend = function(t) {
            t = t || {};
            for (var e = 1; e < arguments.length; e++) {
                var o = arguments[e];
                if (o)
                    for (var i in o) o.hasOwnProperty(i) && ("object" == typeof o[i] ? t[i] = this.extend(t[i], o[i]) : t[i] = o[i])
            }
            return t
        }, e.nano = function(t, e) {
            return t.replace(/\{([\w\.]*)\}/g,
             function(t, o) {
                for (var i = o.split("."), n = e[i.shift()], M = 0, r = i.length; M < r; M++) n = n[i[M]];
                return void 0 !== n && null !== n ? n : ""
            })
        }, e.eachTemplate = function(t, e) {
            var o = "";
            for (var i in e) o += this.nano(t, e[i]);
            return o
        }, e.updateUrl = function(t, e, o) {
            var i = new RegExp("([?&])" + e + "=.*?(&|$)", "i"),
                n = -1 !== t.indexOf("?") ? "&" : "?";
            return t.match(i) ? t.replace(i, "$1" + e + "=" + o + "$2") : t + n + e + "=" + o
        }, e.closest = function(t, e) {
            var o;
            ["matches", "webkitMatchesSelector", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector"].some(function(t) {
                return "function" == typeof document.body[t] && (o = t, !0)
            });
            for (var i; t;) {
                if ((i = t.parentElement) && i[o](e)) return i;
                t = i
            }
            return null
        }, e.hasClass = function(t, e) {
            return t.classList ? t.classList.contains(e) : new RegExp("(^| )" + e + "( |$)", "gi").test(t.className)
        }, e.parents = function(t, e) {
            var o, i = [],
                n = void 0 !== e;
            for (["matches", "webkitMatchesSelector", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector"].some(function(t) {
                    return "function" == typeof document.body[t] && (o = t, !0)
                }); null !== (t = t.parentElement);) t.nodeType === Node.ELEMENT_NODE && (n && !t[o](e) || i.push(t));
            return i
        };
        var o = function(t) {
                this._default = {
                    prefix: "",
                    currencies: null,
                    coins: null
                }, this.options = e.extend(this._default, t);
                var o = '<li data-symbol="{symbol}" class="ic-dropdown__list-item">{value}</li>',
                    i = {
                        _prefix: this.options.prefix
                    },
                    n = [],
                    M = [];
                for (var r in this.options.coins) n.push(e.nano(o, {
                    value: this.options.coins[r],
                    symbol: this.options.coins[r].toString().toUpperCase()
                }));
                for (var r in this.options.currencies) M.push(e.nano(o, {
                    value: this.options.currencies[r],
                    symbol: this.options.currencies[r].toString().toUpperCase()
                }));
                return i.coins = n.join(""), i.coin_default = this.options.coins[1], i.currencies = M.join(""), i.currency_default = this.options.currencies[0], e.nano(
                    '<div class="row justify-content-around align-items-center">'+
                        '<div class="ibx-calc__group-fields col-md-5">' +
                            '<div class="ibx-calc__dropdown">' +
                                '<div id="{_prefix}IC_WIDGET_CONVERTER_DROPDOWN_CURRENCIES" class="js-dropdown ic-dropdown"><a href="javascript:;" class="ic-dropdown__button">{currency_default}</a>' +
                                    '<ul class="ic-dropdown__list">{currencies}</ul>' +
                                '</div>' +
                            '</div>' +
                            '<input placeholder="I give" class="ibx-calc__control-text" type="text" id="{_prefix}IC_WIDGET_CONVERTER_AMOUNT_1" />' +
                            '<input type="hidden" value="{currency_default}" id="{_prefix}IC_WIDGET_CONVERTER_CURRENCY" />' +
                        '</div>' +
                        '<div class="ibx-calc__group-fields col-md-5">' +
                            '<div class="ibx-calc__dropdown">' +
                                '<div id="{_prefix}IC_WIDGET_CONVERTER_DROPDOWN_COINS" class="js-dropdown ic-dropdown"><a href="#" class="ic-dropdown__button">{coin_default}</a>' +
                                    '<ul class="ic-dropdown__list">{coins}</ul>' +
                                '</div>' +
                            '</div>' +
                            '<input placeholder="I get" class="ibx-calc__control-text" type="text" id="{_prefix}IC_WIDGET_CONVERTER_AMOUNT_2" />' +
                            '<input value="{coin_default}" type="hidden" id="{_prefix}IC_WIDGET_CONVERTER_COIN" />' +
                        '</div>'+
                        '<a href="#" target="_blank" class="ibx-calc__button ic-button-background col-8 col-md-4 col-xl-2"><div class="">Exchange!</div></a>'+
                    '</div>'
                    , i)
            },
            i = function(t, o) {
                this._template = "",
                this._data = {},
                this.fnItemsTemplatePrepare = function() {},
                this.controls = {},
                this.container = t,
                this._defaults = {
                    data: {},
                    prefix: ""
                },
                this.options = e.extend({}, 
                    this._defaults, o),
                this.template =
                    '<div class="ibx-calc">' +
                        '<form target="_blank" action="#" class="ibx-calc__form">' +
                            '{converter_controls}' +
                        '</form>'
                    '</div>\n',
                this.init(), 
                this.afterInit()
            };
        i.prototype.init = function() {
            (!this.options.prefix || this.options.prefix.length <= 0) && (this.options.prefix = "s" + Math.random().toString(36).substring(2, 5) + Math.random().toString(36).substring(2, 5));
            var t = {
                converter_controls: function(t, e) {
                    return o({
                        prefix: t.prefix,
                        currencies: t.currencies,
                        coins: t.coins
                    })
                }
            };
            for (var e in t) this._data[e] = t[e].call(this, this.options, this.options.data);
            this.render(this.template, this._data)
        }, 
        i.prototype.render = function(t, o) {
            this._template = e.nano(t, o), this.container.innerHTML = this._template
        }, 
        i.prototype.afterInit = function(t, o) {
            (function($){
                $('.ibx-calc').css('opacity', 1);
            })(jQuery);
            this.controls.AMOUNT = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_AMOUNT_1"), this.controls.CURRENCY = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_CURRENCY"), this.controls.DROPDOWN_CURRENCIES = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_DROPDOWN_CURRENCIES"), this.controls.AMOUNT_COINS = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_AMOUNT_2"), this.controls.COIN = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_COIN"), this.controls.DROPDOWN_COINS = document.getElementById(this.options.prefix + "IC_WIDGET_CONVERTER_DROPDOWN_COINS"), this.controls.AMOUNT.addEventListener("keyup", this.calculateFromAmount.bind(this)), this.controls.AMOUNT_COINS.addEventListener("keyup", this.calculateFromCoins.bind(this)), this.controls.DROPDOWN_COINS.addEventListener("click", this.dropdownController.bind(this)), this.controls.DROPDOWN_CURRENCIES.addEventListener("click", this.dropdownController.bind(this)), document.addEventListener("click", function(t) {
                e.closest(t.target, "#" + this.controls.DROPDOWN_COINS.id) || e.hasClass(this.controls.DROPDOWN_COINS, "ic-dropdown_open") && (console.log("hide DROPDOWN_COINS"), this.controls.DROPDOWN_COINS.classList.remove("ic-dropdown_open")), e.closest(t.target, "#" + this.controls.DROPDOWN_CURRENCIES.id) || e.hasClass(this.controls.DROPDOWN_CURRENCIES, "ic-dropdown_open") && (console.log("hide DROPDOWN_CURRENCIES"), this.controls.DROPDOWN_CURRENCIES.classList.remove("ic-dropdown_open"))
            }.bind(this))
        }, 
        i.prototype.dropdownController = function(t) {
            t.preventDefault(), e.hasClass(t.target, "ic-dropdown__button") ? this.dropdownToggle(t) : e.hasClass(t.target, "ic-dropdown__list-item") && this.dropdownChange(t)
        }, 
        i.prototype.dropdownToggle = function(t) {
            t.returnValue = !1, t.target.parentNode.classList.toggle("ic-dropdown_open")
        }, 
        i.prototype.dropdownChange = function(t) {
            var o = e.closest(t.target, ".ic-dropdown");
            if(this.controls.DROPDOWN_COINS.firstChild.innerText == t.target.getAttribute("data-symbol") || this.controls.DROPDOWN_CURRENCIES.firstChild.innerText == t.target.getAttribute("data-symbol")){}
            else {
                o.querySelector(".ic-dropdown__button").textContent = t.target.getAttribute("data-symbol"), o.id === this.controls.DROPDOWN_COINS.id ? (this.controls.COIN.value = t.target.getAttribute("data-symbol"), this.calculateFromCoins()) : o.id === this.controls.DROPDOWN_CURRENCIES.id && (this.controls.CURRENCY.value = t.target.getAttribute("data-symbol"), this.calculateFromAmount()), o.classList.toggle("ic-dropdown_open")
            }
        },
        i.prototype.calculateFromAmount = function() {
            var t = parseFloat(this.controls.AMOUNT.value.toString().replace(",", ".")),
                e = this.calculate(t, null);
            this.controls.AMOUNT_COINS.value = e.coins
        }, 
        i.prototype.calculateFromCoins = function() {
            var t = parseFloat(this.controls.AMOUNT_COINS.value.toString().replace(",", ".")) || 1,
                e = this.calculate(null, t);
            1 === t && (this.controls.AMOUNT_COINS.value = t), this.controls.AMOUNT.value = e.amount
        }, 
        i.prototype.calculate = function(t, e) {
            var o = this.controls.CURRENCY.value,
                i = this.controls.COIN.value,
                n = this.options.data[i][o];
            return e && e > 0 && !t ? t = n * e : t && t > 0 && !e ? e = t / n : e || t || (t = n * (e = 1)), {
                amount: parseFloat(Math.abs(t).toFixed(6)),
                coins: parseFloat(Math.abs(e).toFixed(6))
            }
        };
        var n = function(o, i) {
            this.container = o || null, this.apiPriceUrl = "https://min-api.cryptocompare.com/data/pricemulti", this._default = {
                coins: ["USD","BTC"],
                currencies: ["USD","BTC"],
                prefix: ""
            }, this.options = e.extend(this._default, i), this.init(), t(o.id)
        };
        return n.prototype.init = function() {
            var t = {
                fsyms: this.options.coins.join(","),
                tsyms: this.options.currencies.join(",")
            };
            ajax().get(this.apiPriceUrl, t).then(function(t) {
                this.widgetMount(this.container, t)
            }.bind(this));
        }, 
        n.prototype.widgetMount = function(t, e) {
            if (t) o = [t];
            else var o = document.querySelectorAll("[id^=ibx-calc-]");
            for (var n = 0; n < o.length; n++) new i(o[n], {
                data: e,
                coins: this.options.coins,
                currencies: this.options.currencies,
                prefix: this.options.prefix
            })
        }, 
        n
    }(), window.ICConverterLastId = window.ICConverterLastId + 1 || 0;

    var e = t.createElement("div"),
        o = "s" + window.ICConverterLastId + Math.random().toString(36).substring(2, 5) + Math.random().toString(36).substring(2, 5);
    e.id = "ibx-calc-" + o, t.write(e.outerHTML);

    var i = document.getElementById("ibx-calc-" + o),
        n = i.previousElementSibling;

    new ICConverter(i, {
        prefix: o,
        currencies: n.getAttribute("data-ibx-calc-currencies") ?  n.getAttribute("data-ibx-calc-currencies").split(",") : null,
        coins: n.getAttribute("data-ibx-calc-coins") ? n.getAttribute("data-ibx-calc-coins").split(",") : null
    });


}(document);
